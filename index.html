<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pine Tree Farm - Eventos</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #F9F9F9;
      background-image: linear-gradient(white, white), linear-gradient(145deg, #FFD700, #6DBF79);
      background-origin: border-box;
      background-clip: content-box, border-box;
      min-height: 100%;
      box-sizing: border-box;
      overflow-x: hidden;
    }
    .container-fluid {
      display: flex;
      flex-wrap: wrap;
      min-height: 100vh;
      padding: 20px;
      box-sizing: border-box;
      border: 5px solid #FFD700;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(255,215,0,0.6);
      background-color: #fff;
      z-index: 1;
      border-image: linear-gradient(90deg, #05bddc, #FFD700) 1;
    }
    .left-section, .right-section {
      width: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 15px;
      box-sizing: border-box;
    }
    .left-section {
      position: relative;
      background-color: #a0e1a0;
      background-image: url("PROJETO FORMULARIO  (1).png");
      background-repeat: no-repeat;
      background-position: center;
      background-size: cover;
      flex-direction: column;
      box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.4);
      text-align: center;
      padding: 20px;
    }
    .footer-text {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #00692e;
      color: #fff;
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 1.2rem;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.4);
    }
    .right-section {
      background-color: #fff;
      padding: 40px;
      position: relative;
      overflow: hidden;
    }
    .right-section::before {
      content: "";
      position: absolute;
      top: 10%;
      left: 10%;
      background-image: url('https://img.icons8.com/ios/452/party.png'),
                        url('https://img.icons8.com/ios/452/birthday-cake.png'),
                        url('https://img.icons8.com/ios/452/party-popper.png');
      background-repeat: no-repeat;
      background-size: 12%, 15%, 10%;
      background-position: 0 0, 80% 20%, 5% 70%;
      z-index: -1;
      opacity: 0.2;
      filter: hue-rotate(190deg);
    }
    .form-container {
      width: 100%;
      max-width: 500px;
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
      background-color: #F1F9F4;
      border: 2px solid #05bddc;
    }
    .form-container h3 {
      font-size: 2rem;
      font-weight: 600;
      color: #00692e;
      text-align: center;
      border-bottom: 2px solid #05bddc;
      padding-bottom: 10px;
    }
    .form-group {
      margin-bottom: 20px;
    }
    .form-label {
      font-weight: bold;
      color: #666;
    }
    .form-control {
      border-radius: 10px;
      border: 2px solid #ccc;
      padding: 15px;
      font-size: 1rem;
      transition: border-color 0.3s ease;
    }
    .form-control:focus {
      border-color: #05bddc;
      box-shadow: 0 0 10px rgba(5, 189, 220, 0.5);
    }
    .btn-custom {
      background: linear-gradient(90deg, #05bddc, #00692e);
      border: none;
      padding: 12px 25px;
      font-size: 1.1rem;
      border-radius: 8px;
      color: white;
      transition: background 0.3s ease, box-shadow 0.3s ease;
    }
    .btn-custom:hover {
      background: linear-gradient(90deg, #00692e, #05bddc);
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
    }
  </style>
</head>
<body>
  <div class="container-fluid">
    <div class="left-section">
      <div class="footer-text">Transformamos seu evento em uma experiência inesquecível!</div>
    </div>
    <div class="right-section">
      <div class="form-container">
        <h3>Dados preliminares do evento</h3>
        <form id="form-inicial">
          <div class="form-group">
            <label for="nomeResponsavel" class="form-label">Nome do(a) responsável</label>
            <input type="text" class="form-control" id="nomeResponsavel" required>
          </div>
          <div class="form-group">
            <label for="aniversariante" class="form-label">Nome d(a) aniversariante</label>
            <input type="text" class="form-control" id="aniversariante" required>
          </div>
          <div class="form-group">
            <label for="dataNascimento" class="form-label">Data de nascimento do(a) aniversariante?</label>
            <input type="date" class="form-control" id="dataNascimento" required>
          </div>
          <div class="form-group">
            <label for="dataEvento" class="form-label">Data do Evento</label>
            <input type="date" class="form-control" id="dataEvento" required>
          </div>
          <!-- Novo campo: Horário do Evento -->
          <div class="form-group">
            <label for="horarioEvento" class="form-label">Horário do evento</label>
            <select class="form-control" id="horarioEvento" required>
              <option value="">Selecione o horário</option>
              <option value="9h30-13h30">9h30 às 13h30 – Dias de semana, exceto feriados tem 5%</option>
              <option value="15h-19h">15h às 19h</option>
              <option value="16h-20h">16h às 20h</option>
            </select>
          </div>
          <div class="mt-3" id="botoesContainer">
            <button type="button" class="btn btn-custom" id="proximo">Próximo</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    // Salva a data de nascimento assim que for alterada
    document.getElementById("dataNascimento").addEventListener("change", function() {
      localStorage.setItem("dataNascimento", this.value);
    });

    // Verifica o modo de operação ao carregar a página
    window.onload = function() {
      var editPreliminares = localStorage.getItem("edit_preliminares");
      if (editPreliminares === "true") {
        // Modo de edição: preenche os campos com os dados salvos
        document.getElementById("nomeResponsavel").value = localStorage.getItem("nomeResponsavel") || "";
        document.getElementById("aniversariante").value = localStorage.getItem("aniversariante") || "";
        document.getElementById("dataNascimento").value = localStorage.getItem("dataNascimento") || "";
        document.getElementById("dataEvento").value = localStorage.getItem("dataEvento") || "";
        document.getElementById("horarioEvento").value = localStorage.getItem("horarioEvento") || "";
        
        // Altera o botão "Próximo" para "Salvar" e atualiza os dados ao ser clicado
        var proximoBtn = document.getElementById("proximo");
        proximoBtn.innerText = "Salvar";
        proximoBtn.onclick = function() {
          localStorage.setItem("nomeResponsavel", document.getElementById("nomeResponsavel").value);
          localStorage.setItem("aniversariante", document.getElementById("aniversariante").value);
          localStorage.setItem("dataNascimento", document.getElementById("dataNascimento").value);
          localStorage.setItem("dataEvento", document.getElementById("dataEvento").value);
          localStorage.setItem("horarioEvento", document.getElementById("horarioEvento").value);
          // Remove a flag de edição
          localStorage.removeItem("edit_preliminares");
          window.location.href = "pagina11.html";
        };
  
        // Cria e insere o botão "Voltar" para retornar ao resumo
        var voltarBtn = document.createElement("button");
        voltarBtn.type = "button";
        voltarBtn.className = "btn btn-custom";
        voltarBtn.style.marginRight = "10px";
        voltarBtn.innerText = "Voltar";
        voltarBtn.onclick = function() {
          window.location.href = "pagina11.html";
        };
        // Insere o botão "Voltar" antes do botão "Salvar"
        var botoesContainer = document.getElementById("botoesContainer");
        botoesContainer.insertBefore(voltarBtn, botoesContainer.firstChild);
  
      } else {
        // Modo normal: define o fluxo para prosseguir sem exibir o botão "Voltar"
        document.getElementById("proximo").onclick = function() {
          localStorage.setItem('nomeResponsavel', document.getElementById('nomeResponsavel').value);
          localStorage.setItem('aniversariante', document.getElementById('aniversariante').value);
          localStorage.setItem('dataEvento', document.getElementById('dataEvento').value);
          localStorage.setItem('horarioEvento', document.getElementById('horarioEvento').value);
          window.location.href = "pagina2.html";
        };
      }
    };
  </script>
</body>
</html>
